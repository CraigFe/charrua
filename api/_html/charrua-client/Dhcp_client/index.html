<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dhcp_client (charrua-client.Dhcp_client)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">charrua-client</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Dhcp_client</span></h1></header><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-buffer"><a href="#type-buffer" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>buffer</code><code><span class="keyword"> = </span>Cstruct.t</code><code></code></div><div class="doc"><p>we expect all serialization and deserialization to happen through Cstruct.t</p></div></div><div class="spec val" id="val-pp"><a href="#val-pp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pp : Format.formatter <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"></div></div><div class="spec val" id="val-create"><a href="#val-create" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>create : ?&#8288;with_xid:Cstruct.uint32 <span class="keyword">&#8209;&gt;</span> ?&#8288;requests:<a href="../../charrua-core/Dhcp_wire/index.html#type-option_code">Dhcp_wire.option_code</a> list <span class="keyword">&#8209;&gt;</span> Macaddr.t <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="index.html#type-buffer">buffer</a></code></div><div class="doc"><p><code class="code">create mac</code> returns a pair of <code class="code">t, buffer</code>. <code class="code">t</code> represents the current
* state of the client in the lease transaction, and <code class="code">buffer</code> is the suggested
* next packet the caller should take to progress toward accepting a lease.
* The optional argument <code class="code">with_xid</code> allows the caller to specify a transaction ID
* to use for the lease attempt.
* <code class="code">requests</code> is a list of option codes which the client should ask for in its
* attempt to get a DHCP lease. If <code class="code">requests</code> is not given, we'll make an educated
* guess rather than requesting nothing.</p></div></div><div class="spec val" id="val-input"><a href="#val-input" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>input : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-buffer">buffer</a> <span class="keyword">&#8209;&gt;</span> [ `Response of <a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="index.html#type-buffer">buffer</a> | `New_lease of <a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="../../charrua-core/Dhcp_wire/index.html#type-pkt">Dhcp_wire.pkt</a> | `Noop ]</code></div><div class="doc"><p><code class="code">input t buf</code> attempts to advance the state of <code class="code">t</code>
* with the contents of <code class="code">buf</code>. If <code class="code">buf</code> is invalid or not useful given
* the current state of <code class="code">t</code>, <code class="code">`Noop</code> is returned indicating no action should be taken.
* Otherwise, either a <code class="code">`Response</code> will be suggested along with a <code class="code">t</code> whose state has been advanced,
* or a <code class="code">`New_lease</code> will be returned along with a <code class="code">t</code> whose state has been advanced.</p></div></div><div class="spec val" id="val-lease"><a href="#val-lease" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>lease : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../../charrua-core/Dhcp_wire/index.html#type-pkt">Dhcp_wire.pkt</a> option</code></div><div class="doc"><p><code class="code">lease t</code> will return <code class="code">Some lease</code> if <code class="code">t</code> has succeeded in
* completing a lease transaction with some server.
* Note that the library has no sense of the passage of time, so expiration
* is not considered; there is no guarantee that <code class="code">Some lease</code> is still
* valid on the network. The caller is responsible for keeping track of
* the time at which the lease was obtained, and renewing the lease when
* necessary.
* If <code class="code">t</code> hasn't yet completed a lease transaction, <code class="code">None</code> will be returned.</p></div></div><div class="spec val" id="val-renew"><a href="#val-renew" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>renew : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> [ `Response of <a href="index.html#type-t">t</a><span class="keyword"> * </span><a href="index.html#type-buffer">buffer</a> | `Noop ]</code></div><div class="doc"><p><code class="code">renew t</code> returns either a <code class="code">`Response</code> with the next state and suggested action
* of the client attempting to renew <code class="code">t</code>'s lease,
* or <code class="code">`Noop</code> if <code class="code">t</code> does not have a lease and therefore can't be renewed.</p></div></div></body></html>